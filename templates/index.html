<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>大陸の覇者　バフシミュレータ</title>
  <link rel="stylesheet" href="/static/style.css" type="text/css">
</head>
<body>
  <div id="global-tooltip" role="tooltip"></div>

  <div class="app">
    
  <header class="app-header">
    <div class="app-title">オクトラ大陸の覇者 バフシミュレータ</div>
    <div class="header-actions">
      <button class="header-btn" id="open-settings" aria-label="設定">
        <svg viewBox="0 0 24 24" class="icon-gear" aria-hidden="true">
          <path d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.03 7.03 0 0 0-1.63-.94l-.36-2.54a.5.5 0 0 0-.5-.42h-3.84a.5.5 0 0 0-.5.42l-.36 2.54c-.58.23-1.12.54-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.68 7.84a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L2.8 13.52a.5.5 0 0 0-.12.64l1.92 3.32c.13.22.39.31.6.22l2.39-.96c.5.4 1.05.71 1.63.94l.36 2.54c.05.24.26.42.5.42h3.84c.25 0 .46-.18.5-.42l.36-2.54c.58-.23 1.12-.54 1.63-.94l2.39.96c.22.09.47 0 .6-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58ZM12 15.5A3.5 3.5 0 1 1 12 8a3.5 3.5 0 0 1 0 7.5Z"/>
        </svg>
      </button>
      <button class="header-btn" id="open-help">ⓘ</button>
    </div>
  </header>
  

    <!-- 上：操作エリア -->
    <div class="control-panel">
      <div class="character-ability-cards">
        <!-- JSで8枠生成 -->
      </div>
    </div>

    <!-- 下：結果表示エリア -->
    <div class="summary-pane">
      <div class="summary-filters" id="summary-filters">
        <!-- JSで描画 -->
      </div>

    <!--<table id="resultTable">-->
      <div class="summary-table">
        <table class="effect-summary">
            <thead>
            <tr>
                <th>対象</th>
                <th>効果内容</th>
                <th>区分</th>
                <th>合算</th>
                <th>上限</th>
                <th>適用</th>
            </tr>
            </thead>
            <tbody id="effect-summary-body"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Ability Select Modal -->
  <div id="abilityModal" class="modal hidden">
    <div class="modal-backdrop"></div>

    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalCharacterName">キャラクター名</h3>
        <!--<button id="modalCloseBtn">×</button>-->
      </div>

      <div class="modal-tabs">
        <button class="modal-tab active" data-tab="battle">バトアビ</button>
        <button class="modal-tab" data-tab="ex">必殺/EX/技変化</button>
        <button class="modal-tab" data-tab="support">サポアビ</button>
      </div>

      <div class="modal-body">
        <!-- 後で中身を描画 -->
      </div>

      <div class="modal-footer">
        <button id="modalCancelBtn">キャンセル</button>
        <button id="modalOkBtn">OK</button>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="help-modal" class="modal hidden">
    <div class="modal-backdrop"></div>

    <div class="modal-content help-modal">
      <div class="modal-header">
        <h2>このツールについて</h2>
        <button class="modal-close" id="close-help">×</button>
      </div>

      <div class="modal-body">
        <section>
          <h3>概要</h3>
          <p>
            本ツールは「オクトパストラベラー 大陸の覇者」における<br>
            バフ・デバフ効果を整理・合算して確認するための補助ツールです。<br>
            <br>
            キャラクターとアビリティの一覧は game8 さんからWebスクレイピングで取得しています。<br>
            <a class="a-link" href="https://game8.jp/octopathtraveler-sp" target="_blank">
              https://game8.jp/octopathtraveler-sp
            </a>
          </p>
        </section>

        <section>
          <h3>数値について</h3>
          <ul>
            <li>表示される数値は効果量の理論上の合算結果です</li>
            <li>ゲーム内挙動と完全一致を保証するものではありません</li>
            <li>フィルタ項目(下線あり)や計算結果部分は、スマホやタブレットはタップで、PCはマウスオーバーで詳細説明が出て来ます</li>
          </ul>
        </section>

        <section>
          <h3>完成度について</h3>
          <p>
            新仕様に対応しきれていない点や細かいバグは取り切れていないところなど<br>
            ご了承いただけますと幸いです。<br>
            <br>
            現状設定ボタンは効かないですが、そのうち何かしら追加するつもりです。<br>
            （キャラリストの事前選択や、キャラ・アビリティ設定状態の保存など）<br>
            <br>
            大きなバグや改善要望などありましたら、以下Xのアカウントまでご連絡ください。<br>
            <a class="a-link" href="https://x.com/syura_krm" target="_blank">@syura_krm</a>
          </p>
        </section>

        <section class="note">
          <p>
            ※ 本ツールは非公式の解析・補助ツールです。
          </p>
        </section>
      </div>
    </div>
  </div>

  <div id="settings-modal" class="modal hidden">
    <div class="modal-backdrop"></div>

    <div class="modal-content settings-modal">

      <div class="settings-header">
        <h2>設定画面</h2>
      </div>

      <div class="modal-body settings-body">
        <!-- 後で中身を描画 -->
      </div>

      <div class="modal-footer settings-footer">
        <div class="footer-left">
          <button id="settingsModalResetBtn" class="btn-reset">
            リセット
          </button>
        </div>

        <div class="footer-right">
          <button id="settingsModalCancelBtn">閉じる</button>
          <button id="settingsModalOkBtn">適用</button>
        </div>
      </div>

    </div>
  </div>

  <script src="/static/constants.js"></script>
  <script src="/static/state.js"></script>
  <script src="/static/ui_render.js"></script>
  <script src="/static/ui_handlers.js"></script>
  <script src="/static/app.js"></script>
</body>

</html>
